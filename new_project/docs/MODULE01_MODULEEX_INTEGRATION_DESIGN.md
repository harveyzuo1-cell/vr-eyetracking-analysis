# Module01ä¸ModuleEX ROIæ•°æ®äº’é€šé›†æˆè®¾è®¡æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **åˆ›å»ºæ—¥æœŸ**: 2025-10-03
- **ä½œè€…**: VR Eye-Tracking Analysis Team
- **çŠ¶æ€**: è®¾è®¡é˜¶æ®µ

---

## 1. é—®é¢˜åˆ†æ

### 1.1 å½“å‰é—®é¢˜

#### é—®é¢˜1: ROIæ•°æ®å­˜å‚¨ä½ç½®ä¸ç»Ÿä¸€
- **Module01 (æ•°æ®å¯è§†åŒ–)**:
  - è¯»å–è·¯å¾„: `config/roi_v1.json`, `config/roi_v2.json`
  - æ ¼å¼: æ—§çš„æ‰å¹³åŒ–JSONæ ¼å¼
  - Taskå‘½å: `q1`, `q2`, `q3`, `q4`, `q5`

- **ModuleEX (ROIé…ç½®ç®¡ç†)**:
  - è¯»å–è·¯å¾„: `data/roi_configs/v1/*.json`, `data/roi_configs/v2/*.json`
  - æ ¼å¼: æ–°çš„åˆ†å±‚JSONæ ¼å¼ (keywords/instructions/background)
  - Taskå‘½å: `task1`, `task2`, `task3`, `task4`, `task5`

#### é—®é¢˜2: APIç«¯ç‚¹ä¸å®Œæ•´
- Module01è°ƒç”¨ `POST /api/data/roi-stats` æ—¶è¿”å›404
- è¯¥ç«¯ç‚¹åœ¨Module01çš„api.pyä¸­å·²å®šä¹‰ï¼Œä½†å®ç°å¯èƒ½æœ‰é—®é¢˜
- ModuleEXçš„é…ç½®æ•°æ®æ— æ³•è¢«Module01çš„ROIç»Ÿè®¡åŠŸèƒ½ä½¿ç”¨

#### é—®é¢˜3: æ•°æ®æ ¼å¼ä¸å…¼å®¹
- **æ—§æ ¼å¼** (config/roi_v1.json):
  ```json
  {
    "version": "v1",
    "layout": "legacy",
    "regions": [
      {"id": "KW_q1_1", "task": "q1", "type": "KW", "coords": [x, y, w, h]}
    ]
  }
  ```

- **æ–°æ ¼å¼** (data/roi_configs/v2/task1_roi.json):
  ```json
  {
    "version": "v2",
    "task_id": "task1",
    "regions": {
      "keywords": [
        {"id": "KW_task1_1", "type": "KW", "normalized_coords": [x, y, w, h]}
      ],
      "instructions": [...],
      "background": [...]
    }
  }
  ```

---

## 2. æ¶æ„è®¾è®¡åŸåˆ™

### 2.1 ç¬¦åˆé¡¹ç›®æ¶æ„
éµå¾ª `ARCHITECTURE_REVIEW.md` ä¸­çš„è®¾è®¡åŸåˆ™ï¼š
- âœ… **é…ç½®é©±åŠ¨**: ä½¿ç”¨ `Config.DATA_ROOT` ç»Ÿä¸€æ•°æ®è·¯å¾„
- âœ… **å‰åç«¯åˆ†ç¦»**: APIå±‚ä¸ä¸šåŠ¡é€»è¾‘å±‚è§£è€¦
- âœ… **æ¨¡å—ç‹¬ç«‹**: å„æ¨¡å—é€šè¿‡æ ‡å‡†APIäº¤äº’
- âœ… **ç»Ÿä¸€æ—¥å¿—**: ä½¿ç”¨ `setup_logger()` è®°å½•æ“ä½œ

### 2.2 æ•°æ®ç»Ÿä¸€åŸåˆ™
- **å•ä¸€æ•°æ®æº**: ROIé…ç½®ç»Ÿä¸€å­˜å‚¨åœ¨ `data/roi_configs/{version}/` ç›®å½•
- **æ ¼å¼æ ‡å‡†åŒ–**: é‡‡ç”¨æ–°çš„åˆ†å±‚JSONæ ¼å¼ï¼ˆkeywords/instructions/backgroundï¼‰
- **å‘åå…¼å®¹**: ä¿ç•™æ—§æ•°æ®è¯»å–èƒ½åŠ›ï¼Œæä¾›æ ¼å¼è½¬æ¢å·¥å…·
- **ç‰ˆæœ¬éš”ç¦»**: v1å’Œv2æ•°æ®å®Œå…¨ç‹¬ç«‹å­˜å‚¨

---

## 3. è§£å†³æ–¹æ¡ˆè®¾è®¡

### 3.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç»Ÿä¸€ROIæ•°æ®å±‚                              â”‚
â”‚                 (data/roi_configs/)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   v1/            â”‚         â”‚   v2/            â”‚          â”‚
â”‚  â”‚   - q1_roi.json  â”‚         â”‚   - task1_roi.jsonâ”‚         â”‚
â”‚  â”‚   - q2_roi.json  â”‚         â”‚   - task2_roi.jsonâ”‚         â”‚
â”‚  â”‚   - ...          â”‚         â”‚   - ...          â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†‘                    â†‘
                          â”‚                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                           â”‚                        â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚ Module01 â”‚              â”‚  ModuleEX   â”‚         â”‚  ROIå…±äº«    â”‚
    â”‚   API    â”‚              â”‚    API      â”‚         â”‚  Service    â”‚
    â”‚          â”‚              â”‚             â”‚         â”‚             â”‚
    â”‚ GET /roi â”‚              â”‚ GET /config â”‚         â”‚ æ ¼å¼è½¬æ¢å™¨   â”‚
    â”‚ POST     â”‚              â”‚ POST /save  â”‚         â”‚ æ•°æ®éªŒè¯å™¨   â”‚
    â”‚ /roi-statâ”‚              â”‚             â”‚         â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å…³é”®ç»„ä»¶è®¾è®¡

#### 3.2.1 ç»Ÿä¸€ROIæœåŠ¡å±‚ (src/services/roi_service.py)

**åŠŸèƒ½èŒè´£:**
- æä¾›ç»Ÿä¸€çš„ROIé…ç½®è¯»å–æ¥å£
- å¤„ç†æ—§æ ¼å¼åˆ°æ–°æ ¼å¼çš„è½¬æ¢
- ç»Ÿä¸€Task IDæ˜ å°„ (q1 â†” task1)
- ç¼“å­˜ROIé…ç½®ä»¥æå‡æ€§èƒ½

**æ ¸å¿ƒæ¥å£:**
```python
class UnifiedROIService:
    """ç»Ÿä¸€ROIé…ç½®æœåŠ¡"""

    def get_roi_config(version: str, task: str) -> Dict:
        """
        è·å–ROIé…ç½®ï¼ˆç»Ÿä¸€æ¥å£ï¼‰

        Args:
            version: v1/v2
            task: q1-q5 æˆ– task1-task5ï¼ˆè‡ªåŠ¨è½¬æ¢ï¼‰

        Returns:
            æ ‡å‡†åŒ–çš„ROIé…ç½®æ•°æ®
        """

    def get_roi_config_by_path(version: str, task: str) -> str:
        """è·å–ROIé…ç½®æ–‡ä»¶è·¯å¾„"""

    def convert_legacy_to_new(legacy_config: Dict) -> Dict:
        """å°†æ—§æ ¼å¼è½¬æ¢ä¸ºæ–°æ ¼å¼"""

    def normalize_task_id(task: str) -> Tuple[str, str]:
        """
        ä»»åŠ¡IDæ ‡å‡†åŒ–

        Returns:
            (legacy_task_id, new_task_id)
            ä¾‹: ("q1", "task1")
        """
```

#### 3.2.2 æ•°æ®è¿ç§»å·¥å…· (scripts/migrate_roi_configs.py)

**åŠŸèƒ½:**
- å°† `config/roi_v1.json` æ‹†åˆ†ä¸º `data/roi_configs/v1/q{1-5}_roi.json`
- å°† `config/roi_v2.json` æ‹†åˆ†ä¸º `data/roi_configs/v2/q{1-5}_roi.json`
- è½¬æ¢æ—§æ ¼å¼åˆ°æ–°æ ¼å¼ï¼ˆåˆ†å±‚ç»“æ„ï¼‰
- ä¿ç•™åŸå§‹æ–‡ä»¶ä½œä¸ºå¤‡ä»½

**æ‰§è¡Œæµç¨‹:**
```
1. è¯»å– config/roi_v1.json
2. æŒ‰taskåˆ†ç»„regions
3. è½¬æ¢ä¸ºæ–°æ ¼å¼ï¼ˆkeywords/instructions/backgroundåˆ†å±‚ï¼‰
4. ä¿å­˜åˆ° data/roi_configs/v1/q{1-5}_roi.json
5. å¯¹roi_v2.jsoné‡å¤ä¸Šè¿°æ­¥éª¤
6. éªŒè¯è¿ç§»ç»“æœ
```

#### 3.2.3 Task IDæ˜ å°„å™¨

**æ˜ å°„å…³ç³»:**
```python
TASK_ID_MAPPING = {
    # Legacy ID -> New ID
    "q1": "task1",
    "q2": "task2",
    "q3": "task3",
    "q4": "task4",
    "q5": "task5",
    # New ID -> Legacy ID
    "task1": "q1",
    "task2": "q2",
    "task3": "q3",
    "task4": "q4",
    "task5": "q5"
}
```

---

## 4. å®æ–½æ­¥éª¤

### é˜¶æ®µ1: åˆ›å»ºç»Ÿä¸€ROIæœåŠ¡å±‚ (1-2å°æ—¶)

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»º `src/services/roi_service.py`
- [ ] å®ç° `UnifiedROIService` ç±»
- [ ] å®ç°Task IDåŒå‘æ˜ å°„
- [ ] å®ç°æ ¼å¼è½¬æ¢å™¨ (legacy â†” new)
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•

**æ–‡ä»¶ç»“æ„:**
```
src/services/
â”œâ”€â”€ __init__.py
â””â”€â”€ roi_service.py          # æ–°å¢ï¼šç»Ÿä¸€ROIæœåŠ¡
```

### é˜¶æ®µ2: æ•°æ®è¿ç§» (30åˆ†é’Ÿ)

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»º `scripts/migrate_roi_configs.py`
- [ ] å¤‡ä»½ç°æœ‰é…ç½®æ–‡ä»¶
- [ ] æ‰§è¡Œè¿ç§»ï¼šconfig/*.json â†’ data/roi_configs/
- [ ] éªŒè¯è¿ç§»åçš„æ•°æ®å®Œæ•´æ€§
- [ ] åˆ›å»ºv1çš„ROIé…ç½®æ–‡ä»¶ï¼ˆä»roi_v1.jsonæ‹†åˆ†ï¼‰

**è¿ç§»å‘½ä»¤:**
```bash
python scripts/migrate_roi_configs.py --backup --validate
```

### é˜¶æ®µ3: æ›´æ–°Module01 (1å°æ—¶)

**ä»»åŠ¡æ¸…å•:**
- [ ] ä¿®æ”¹ `module01_data_visualization/service.py`
  - ä½¿ç”¨ `UnifiedROIService` æ›¿ä»£ç›´æ¥è¯»å–configæ–‡ä»¶
  - æ›´æ–° `get_roi_config()` æ–¹æ³•
  - æ›´æ–° `get_roi_config_enhanced()` æ–¹æ³•
  - ä¿®å¤ `calculate_roi_stats()` å®ç°

- [ ] ä¿®æ”¹ `module01_data_visualization/api.py`
  - ç¡®ä¿ `/api/data/roi-stats` ç«¯ç‚¹æ­£å¸¸å·¥ä½œ
  - æ·»åŠ é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

- [ ] æµ‹è¯•v1å’Œv2æ•°æ®å¯è§†åŒ–åŠŸèƒ½

### é˜¶æ®µ4: æ›´æ–°ModuleEX (30åˆ†é’Ÿ)

**ä»»åŠ¡æ¸…å•:**
- [ ] ä¿®æ”¹ `moduleEX_roi_config/service.py`
  - ä½¿ç”¨ç»Ÿä¸€çš„Task IDå‘½å (æ”¯æŒq1-q5å’Œtask1-task5)
  - ç¡®ä¿ä¿å­˜çš„é…ç½®ä¸Module01å…¼å®¹

- [ ] ä¿®æ”¹ `moduleEX_roi_config/api.py`
  - æ·»åŠ Task IDè‡ªåŠ¨è½¬æ¢
  - ç»Ÿä¸€è¿”å›æ ¼å¼

- [ ] æµ‹è¯•ROIé…ç½®çš„ä¿å­˜å’ŒåŠ è½½

### é˜¶æ®µ5: å‰ç«¯é€‚é… (30åˆ†é’Ÿ)

**ä»»åŠ¡æ¸…å•:**
- [ ] æ›´æ–° `frontend/src/services/roiService.js`
  - ç¡®ä¿APIè°ƒç”¨è·¯å¾„æ­£ç¡®
  - æ·»åŠ Task IDè½¬æ¢é€»è¾‘

- [ ] æ›´æ–° `Module01.jsx`
  - ç¡®ä¿v2æ•°æ®åŠ è½½æ­£å¸¸
  - ä¿®å¤ROIç»Ÿè®¡åŠŸèƒ½

- [ ] æ›´æ–° `ModuleEX/index.jsx`
  - æ”¯æŒåŠ è½½v1é…ç½®
  - æ˜¾ç¤ºTask IDæ˜ å°„å…³ç³»

### é˜¶æ®µ6: æµ‹è¯•ä¸éªŒè¯ (1å°æ—¶)

**æµ‹è¯•ç”¨ä¾‹:**
1. âœ… Module01åŠ è½½v1æ•°æ®å¹¶æ˜¾ç¤ºROI
2. âœ… Module01åŠ è½½v2æ•°æ®å¹¶æ˜¾ç¤ºROI
3. âœ… Module01è®¡ç®—v2æ•°æ®çš„ROIç»Ÿè®¡
4. âœ… ModuleEXåŠ è½½v1çš„ROIé…ç½®
5. âœ… ModuleEXåŠ è½½v2çš„ROIé…ç½®
6. âœ… ModuleEXä¿å­˜çš„é…ç½®èƒ½è¢«Module01è¯»å–
7. âœ… ModuleEXä¿®æ”¹v1é…ç½®åModule01èƒ½æ­£ç¡®æ˜¾ç¤º

---

## 5. APIæ¥å£è®¾è®¡

### 5.1 ç»Ÿä¸€ROIé…ç½®æ¥å£

#### GET /api/data/roi
**åŠŸèƒ½**: è·å–ROIé…ç½®ï¼ˆå…¼å®¹æ—§æ ¼å¼ï¼‰

**è¯·æ±‚å‚æ•°:**
```
version: v1 | v2
task: q1 | q2 | q3 | q4 | q5 | task1 | task2 | task3 | task4 | task5
```

**å“åº”:**
```json
{
  "success": true,
  "data": {
    "version": "v1",
    "task_id": "q1",
    "task_id_new": "task1",
    "regions": {
      "keywords": [...],
      "instructions": [...],
      "background": [...]
    }
  }
}
```

#### GET /api/data/roi-enhanced
**åŠŸèƒ½**: è·å–å¢å¼ºROIé…ç½®ï¼ˆæ–°æ ¼å¼ï¼‰

**è¯·æ±‚å‚æ•°:**
```
version: v1 | v2
task: q1-q5 æˆ– task1-task5ï¼ˆè‡ªåŠ¨è½¬æ¢ï¼‰
```

**å“åº”:**
```json
{
  "success": true,
  "data": {
    "version": "v1",
    "task_id": "q1",
    "task_name": "æ—¶é—´å®šå‘",
    "background_image": "/static/background_images/v1/Q1.jpg",
    "regions": {
      "keywords": [...],
      "instructions": [...],
      "background": [...]
    }
  }
}
```

#### POST /api/data/roi-stats
**åŠŸèƒ½**: è®¡ç®—ROIç»Ÿè®¡ä¿¡æ¯

**è¯·æ±‚Body:**
```json
{
  "version": "v1",
  "task": "q1",
  "gaze_data": [
    {"x": 0.5, "y": 0.5, "timestamp": 0.0},
    ...
  ]
}
```

**å“åº”:**
```json
{
  "success": true,
  "data": {
    "stats": {
      "KW_q1_1": {
        "fixation_time": 2.5,
        "entry_count": 3,
        "regression_count": 2
      }
    },
    "summary": {
      "total_fixation_time": 10.5,
      "keywords_fixation_time": 5.2
    }
  }
}
```

### 5.2 ModuleEXé…ç½®æ¥å£

#### GET /api/config/roi-configs
**åŠŸèƒ½**: è·å–ROIé…ç½®åˆ—è¡¨

**è¯·æ±‚å‚æ•°:**
```
version: v1 | v2
```

**å“åº”:**
```json
{
  "success": true,
  "data": [
    {
      "filename": "q1_roi.json",
      "task_id": "q1",
      "task_id_new": "task1",
      "version": "v1",
      "modified_time": "2025-10-03T14:00:00"
    }
  ]
}
```

#### POST /api/config/roi-configs
**åŠŸèƒ½**: ä¿å­˜ROIé…ç½®

**è¯·æ±‚Body:**
```json
{
  "version": "v2",
  "task_id": "task1",  // è‡ªåŠ¨è½¬æ¢ä¸ºq1
  "regions": {
    "keywords": [...],
    "instructions": [...],
    "background": [...]
  }
}
```

---

## 6. æ•°æ®æ ¼å¼æ ‡å‡†

### 6.1 ç»Ÿä¸€ROIé…ç½®æ ¼å¼

```json
{
  "version": "v1|v2",
  "task_id": "q1|task1",
  "task_name": "æ—¶é—´å®šå‘",
  "background_image": "q1.png|task1.png",
  "regions": {
    "keywords": [
      {
        "id": "KW_q1_1",
        "type": "KW",
        "normalized_coords": [x, y, w, h],
        "task_id": "q1",
        "version": "v1"
      }
    ],
    "instructions": [
      {
        "id": "INST_q1_1",
        "type": "INST",
        "normalized_coords": [x, y, w, h],
        "task_id": "q1",
        "version": "v1"
      }
    ],
    "background": [
      {
        "id": "BG_q1",
        "type": "BG",
        "normalized_coords": [0, 0, 1, 1],
        "task_id": "q1",
        "version": "v1"
      }
    ]
  },
  "last_modified": "2025-10-03T14:00:00"
}
```

### 6.2 Task IDæ ‡å‡†åŒ–è§„åˆ™

| ç‰ˆæœ¬ | Module01ä½¿ç”¨ | ModuleEXä½¿ç”¨ | æ–‡ä»¶å‘½å | ROI IDå‰ç¼€ |
|------|-------------|-------------|---------|-----------|
| v1   | q1-q5       | q1-q5       | q{1-5}_roi.json | KW_q1_1 |
| v2   | q1-q5       | task1-task5 | q{1-5}_roi.json | KW_q1_1 |

**è¯´æ˜:**
- å†…éƒ¨ç»Ÿä¸€ä½¿ç”¨ `q1-q5` ä½œä¸ºTask ID
- ModuleEXå‰ç«¯æ˜¾ç¤ºå¯ä»¥ç”¨ `task1-task5`
- æ–‡ä»¶åç»Ÿä¸€ä½¿ç”¨ `q{1-5}_roi.json`
- ROIåŒºåŸŸIDä¿æŒ `KW_q1_1` æ ¼å¼

---

## 7. é£é™©ä¸æ³¨æ„äº‹é¡¹

### 7.1 é£é™©è¯„ä¼°

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ |
|------|------|------|---------|
| æ•°æ®è¿ç§»å¤±è´¥ | é«˜ | ä½ | 1. è¿ç§»å‰å¤‡ä»½<br>2. åˆ†æ­¥éªŒè¯<br>3. å›æ»šæ–¹æ¡ˆ |
| æ ¼å¼è½¬æ¢é”™è¯¯ | ä¸­ | ä¸­ | 1. å•å…ƒæµ‹è¯•<br>2. æ•°æ®éªŒè¯<br>3. äººå·¥æ£€æŸ¥ |
| APIå…¼å®¹æ€§é—®é¢˜ | é«˜ | ä½ | 1. å‘åå…¼å®¹è®¾è®¡<br>2. ç‰ˆæœ¬æ§åˆ¶<br>3. æ¸è¿›å¼è¿ç§» |
| æ€§èƒ½ä¸‹é™ | ä½ | ä½ | 1. é…ç½®ç¼“å­˜<br>2. å»¶è¿ŸåŠ è½½<br>3. æ€§èƒ½ç›‘æ§ |

### 7.2 æ³¨æ„äº‹é¡¹

1. **æ•°æ®å¤‡ä»½**: åœ¨è¿ç§»å‰å¿…é¡»å¤‡ä»½ `config/roi_v1.json` å’Œ `config/roi_v2.json`
2. **æ¸è¿›å¼è¿ç§»**: å…ˆæ”¯æŒè¯»å–æ—§æ ¼å¼ï¼Œå†é€æ­¥è¿ç§»åˆ°æ–°æ ¼å¼
3. **å…¼å®¹æ€§æµ‹è¯•**: ç¡®ä¿æ‰€æœ‰ç°æœ‰åŠŸèƒ½åœ¨è¿ç§»åä»æ­£å¸¸å·¥ä½œ
4. **æ–‡æ¡£æ›´æ–°**: æ›´æ–°APIæ–‡æ¡£å’Œç”¨æˆ·æ‰‹å†Œ

---

## 8. éªŒæ”¶æ ‡å‡†

### 8.1 åŠŸèƒ½éªŒæ”¶

- [ ] Module01èƒ½åŠ è½½v1çš„ROIé…ç½®å¹¶æ­£å¸¸æ˜¾ç¤º
- [ ] Module01èƒ½åŠ è½½v2çš„ROIé…ç½®å¹¶æ­£å¸¸æ˜¾ç¤º
- [ ] Module01èƒ½è®¡ç®—v1å’Œv2çš„ROIç»Ÿè®¡æ•°æ®
- [ ] ModuleEXèƒ½åŠ è½½v1çš„ROIé…ç½®è¿›è¡Œç¼–è¾‘
- [ ] ModuleEXèƒ½åŠ è½½v2çš„ROIé…ç½®è¿›è¡Œç¼–è¾‘
- [ ] ModuleEXä¿å­˜çš„é…ç½®èƒ½è¢«Module01æ­£ç¡®è¯»å–
- [ ] Task IDåœ¨ä¸¤ä¸ªæ¨¡å—é—´æ­£ç¡®æ˜ å°„ï¼ˆq1â†”task1ï¼‰

### 8.2 æ€§èƒ½éªŒæ”¶

- [ ] ROIé…ç½®åŠ è½½æ—¶é—´ < 500ms
- [ ] ROIç»Ÿè®¡è®¡ç®—æ—¶é—´ < 1sï¼ˆ1000ä¸ªæ•°æ®ç‚¹ï¼‰
- [ ] é…ç½®ä¿å­˜å“åº”æ—¶é—´ < 300ms

### 8.3 è´¨é‡éªŒæ”¶

- [ ] ä»£ç é€šè¿‡å•å…ƒæµ‹è¯•ï¼ˆè¦†ç›–ç‡>80%ï¼‰
- [ ] ä»£ç ç¬¦åˆé¡¹ç›®æ¶æ„è§„èŒƒ
- [ ] æ—¥å¿—è®°å½•å®Œæ•´ï¼ˆInfo/Error/Debugï¼‰
- [ ] APIè¿”å›æ ¼å¼ç»Ÿä¸€

---

## 9. å¼€å‘æ—¶é—´ä¼°ç®—

| é˜¶æ®µ | ä»»åŠ¡ | é¢„è®¡æ—¶é—´ |
|------|------|---------|
| 1 | åˆ›å»ºç»Ÿä¸€ROIæœåŠ¡å±‚ | 1-2å°æ—¶ |
| 2 | æ•°æ®è¿ç§»è„šæœ¬ | 30åˆ†é’Ÿ |
| 3 | æ›´æ–°Module01 | 1å°æ—¶ |
| 4 | æ›´æ–°ModuleEX | 30åˆ†é’Ÿ |
| 5 | å‰ç«¯é€‚é… | 30åˆ†é’Ÿ |
| 6 | æµ‹è¯•ä¸éªŒè¯ | 1å°æ—¶ |
| **æ€»è®¡** | | **4.5-5.5å°æ—¶** |

---

## 10. åç»­ä¼˜åŒ–å»ºè®®

1. **ROIé…ç½®ç‰ˆæœ¬æ§åˆ¶**: å®ç°é…ç½®å†å²è®°å½•å’Œå›æ»šåŠŸèƒ½
2. **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡å¯¼å…¥/å¯¼å‡ºROIé…ç½®
3. **å¯è§†åŒ–é¢„è§ˆ**: ModuleEXä¸­é¢„è§ˆModule01çš„æ˜¾ç¤ºæ•ˆæœ
4. **æ™ºèƒ½æ¨è**: åŸºäºv1é…ç½®è‡ªåŠ¨ç”Ÿæˆv2é…ç½®å»ºè®®
5. **é…ç½®æ¨¡æ¿**: æä¾›å¸¸ç”¨ROIé…ç½®æ¨¡æ¿åº“

---

## é™„å½•

### A. æ–‡ä»¶è·¯å¾„å¯¹ç…§è¡¨

| æ•°æ®ç±»å‹ | æ—§è·¯å¾„ | æ–°è·¯å¾„ |
|---------|--------|--------|
| v1 ROIé…ç½® | `config/roi_v1.json` | `data/roi_configs/v1/q{1-5}_roi.json` |
| v2 ROIé…ç½® | `config/roi_v2.json` | `data/roi_configs/v2/q{1-5}_roi.json` |
| v1 èƒŒæ™¯å›¾ç‰‡ | `data/background_images/v1/Q{1-5}.jpg` | ä¿æŒä¸å˜ |
| v2 èƒŒæ™¯å›¾ç‰‡ | `data/background_images/v2/task{1-5}.png` | ä¿æŒä¸å˜ |

### B. ç›¸å…³æ–‡æ¡£

- [Module01 ROIå¢å¼ºè®¾è®¡](MODULE01_ROI_ENHANCEMENT_PLAN.md)
- [Module01 ROIå¯è§†åŒ–è®¾è®¡](MODULE01_ROI_VISUALIZATION_DESIGN.md)
- [æ¶æ„è®¾è®¡è¯„å®¡](ARCHITECTURE_REVIEW.md)

---

**æ–‡æ¡£çŠ¶æ€**: å¾…è¯„å®¡
**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**: è¯„å®¡é€šè¿‡åå¼€å§‹é˜¶æ®µ1å¼€å‘
